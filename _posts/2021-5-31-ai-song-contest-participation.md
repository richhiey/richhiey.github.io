---
layout: post
title:  "AI Song Contest 2021 Diaries - Part 4"
description: "BeatWire - How we made music with AI tools"
date:   2021-05-31 21:03:36 +0530
---

Summary of the various ideas that came together in the music that we made for the song contest.



- **Behind the sound link**: [Soundcloud][behind-the-sound-soundcloud]
- **Annotated version**: [Soundcloud][final-song-soundcloud-annotated]
- **Final song**: [Soundcloud][final-song-soundcloud]
- Some previous blogs written can be found here - [Part 3][part_3], [Part 2][part_2], [Part 1][part_1]

![Music setup at OVGU AILab, Magdeburg](/assets/images/ai-song-contest-2021/music_setup.jpg)

[AILab][ailab] at OVGU, Magdeburg
{: style="color:gray; font-size: 80%; text-align: center;"}

This is where we spent most of our time making music with our AI tools! Most of our tools are within the computer, but we created a basic setup to record and jam with equipment we found at the lab. 

Our song is inspired from a story generated by a GPT-2 model. This GPT-2 model was trained on lyrics from famous pop songs. We generated lots of pieces, but this one in particular caught our interest. So we decided to adopt this story and turn it into a song! 

**Main story** ([GPT2][gpt2-link] trained on [this][lyrics-dataset] dataset):
--------------------

------------------------
*The legends and the myths*

*There's a girl who can fly*

*And the wise one will guide her home*

*The dragon she ran from was defeated*

*The dragon she rolled from her jaws*

*The dragon she fought from was slain*

-----------------------

*Just a month's journey from home*

*And now she's out of sight*

*Oh love will guide it*

*So lost and out of mind*

*Just a month's journey*

*And now you're out of mind*

*Now you're out of mind*

---------------------------

*I wonder where you're going*

*You're all I need*

*And if I get far I will go*

*To make up my mind*

*Don't let me go and let love guide it all all*

*Come on and give it all you've got*

---------------------------

Parallely, we were also experimenting with various AI tools capable of generating MIDI and audio. To create the various musical elements, we used tools open sourced by the Google Magenta Project. All drums, percussion, basslines and melodies are created by passing outputs between the various apps within Magenta studio. We use the Ableton Max for Live Device for Magenta studio.

Since the story is about a journey, we also thought of placing this story near an ocean. To add the sound of the ocean using AI tools, we used NSynth. We take two sounds - intro of the song and sound of the ocean. We then encode these sounds using the NSynth Encoder, cross-fade them in encoding space and resynthesize to create a cross-fading of the two original signals with AI artifacts. We found them pretty cool, so we added them at the start and end of the song.

In order to preserve a tropical vibe in the song, we try to use shaker hi-hats, bongos, congos and chilled out drum set, all played with outputs from Magenta studio. The chord progression was decided by us and was recorded through a MIDI controller. We spent a lot of time jamming to various basslines and melodies with our guitar! For the melodies, we use percussive plucks layered with airy noise instruments and flute-like instruments.

None of us are confident singers on record, so we found it hard to record vocals. Instead of singing much, we tried to give voice to our favorite parts of the AI generated text. We record four lines from the original story. Then we pass them through DDSP models trained on the NUS-48E dataset. Each of these DDSP models is trained on a specific singer in the dataset. We then resynthesize new versions of the original recording from these models and use them to layer the original vocals with AI artifacts. The DDSP models work with a sample rate of 16000 Hz, which makes their resynthesis sound fuzzier compared to the original recording recorded at 44100 Hz.

Then we add in some risers, a 4/4 kick drum and necessary sound effects while also tweaking small parts of the sound to ensure that the track has good listening quality.

The final lyrics for the song ended up being -

-------------------

*Just a month's journey from home*

*And now she's out of sight*

*Oh love will guide it*

*So lost and out of mind*

-------------------

And thats why, we call this musical piece *Love Will Guide It*. 

BeatWire - About the team
--------------------

![Team Photo](/assets/images/ai-song-contest-2021/team_photo.jpg)


BeatWire consists of [Richhiey Thomas][richhiey] and [Oliver Watson][oliver].

![Richhiey](/assets/images/ai-song-contest-2021/richhiey.jpg)
Richhiey
{: style="color:gray; font-size: 80%; text-align: center;"}

![Oliver](/assets/images/ai-song-contest-2021/oliver.jpg)
Oliver
{: style="color:gray; font-size: 80%; text-align: center;"}

Both of us are masters students studying Data and Knowledge Engineering at OVGU
Magdeburg. At university, we both have learnt about MIR and deep learning. Richhiey had
participated in the song contest previously whereas Oliver has completed a few projects in
MIR in the last semester. We both were always friends and got together for the song contest
to explore the possibilities that lie in this space. 

Acknowledgments
------------------
Many thanks to the [AILab at OVGU][ailab] for helping us out with equipment, providing a workspace and guiding us in this space of AI and music. Also, thank you to family and friends for listening to various stages of our music making process and providing feedback!

[final-song-soundcloud-annotated]: https://soundcloud.com/song-contest-889411407/beatwire-love-will-guide-it
[final-song-soundcloud]: https://soundcloud.com/song-contest-889411407/beatwire-love-will-guide-it
[behind-the-sound-soundcloud]: https://soundcloud.com/song-contest-889411407/sets/behind-the-sound-ai-song/s-CnOYmLcd2NH
[gpt2-link]: https://huggingface.co/transformers/model_doc/gpt2.html
[part_1]:https://richhiey1996.github.io/posts/ai-song-contest-part-1/
[part_2]:https://richhiey1996.github.io/posts/ai-song-contest-part-2/
[part_3]:https://richhiey1996.github.io/posts/ai-song-contest-part-3/
[lyrics-dataset]: https://drive.google.com/file/d/1AqZC9DEqfdZcPDJRPIR_KvWm-nyy3n26/view?usp=sharing
[ailab]: https://ai.ovgu.de/
[oliver]: https://www.linkedin.com/in/oliver-watson-166173122/
[richhiey]: https://www.linkedin.com/in/richhiey/
